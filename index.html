<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>IA Cabinet AGBELE-ALAFIA</title>
  <style>
    * { box-sizing: border-box; }

    body {
      background-color: #f7e89e; /* Jaune doux */
      font-family: Astro Sans-Serif;
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      font-size: 1rem;
    }

    h1 {
      color: #006400; /* Vert fonc√© */
      text-align: center;
      border: solid 4px #228B22; /* Vert olive */
      padding: 10px;
      margin: 0;
      border-radius: 20px;
      font-size: 1.8rem;
      background-color: #90ee90; /* Vert clair */
    }

    .chatcontainer {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      border: 7px solid #228B22; /* Vert olive */
      box-shadow: 5px 5px 12px rgba(0, 100, 0, 0.8);
      background-color: #f0fff0; /* Vert tr√®s p√¢le */
    }

    .message {
      display: flex;
      padding: 10px;
      border-top: 2px solid #006400; /* Vert fonc√© */
      background-color: #f7e89e; /* Jaune doux */
      gap: 10px;
      flex-wrap: wrap;
    }

    .message input {
      flex: 1;
      padding: 10px;
      font-size: 1rem;
      border: 2px solid #228B22;
      border-radius: 10px;
      outline: none;
      color: #fff;
      background-color: #394e13; /* Vert clair */
    }

    .bouton {
      background-color: #228B22; /* Vert olive */
      color: white;
      border: 2px solid #006400; /* Vert fonc√© */
      border-radius: 50px;
      padding: 10px 15px;
      cursor: pointer;
      font-size: 1rem;
    }

    .message-bulle {
      background-color: #90ee90; /* Vert clair */
      color: #006400;
      padding: 10px 15px;
      margin: 8px 0;
      border-radius: 15px;
      max-width: 70%;
      align-self: flex-start;
      box-shadow: 0 2px 5px rgba(0, 100, 0, 0.4);
      word-wrap: break-word;
      font-size: 1rem;
    }

    .droite {
      align-self: flex-end;
      background-color: #006400; /* Vert fonc√© */
      color: #f0fff0; /* Vert tr√®s p√¢le */
    }

    @media screen and (max-width: 600px) {
      h1 {
        font-size: 1.2rem;
        padding: 8px;
      }

      .message {
        flex-direction: column;
      }

      .message input, .bouton {
        width: 100%;
        font-size: 1rem;
      }

      .message-bulle {
        max-width: 90%;
        font-size: 0.95rem;
      }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
  <h1>IA Cabinet AGBELE-ALAFIA</h1>
  <div class="chatcontainer" id="chatcontainer"></div>
  <div class="message">
    <input type="text" placeholder="√âcrivez..." id="messageInput" />
    <button class="bouton" onclick="envoyerMessage()">Envoyer</button>
  </div>

  <script>
    function messageInitial() {
      const chat = document.getElementById('chatcontainer');
      const reponse = document.createElement('div');
      reponse.classList.add('message-bulle');
      reponse.innerHTML = marked.parse("üëã Bonjour ! Je suis **L'IA du Cabinet ABELE-ALAFIA**. Vous avez des problemes (Infertilit√©s etc...) Posez moi votre question!");
      chat.appendChild(reponse);
    }

    window.onload = messageInitial;

    async function envoyerMessage() {
      const input = document.getElementById('messageInput');
      const message = input.value.trim();
      const chat = document.getElementById('chatcontainer');

      if (message === "") return;

      const msgUser = document.createElement('div');
      msgUser.classList.add('message-bulle', 'droite');
      msgUser.textContent = message;
      chat.appendChild(msgUser);
      chat.scrollTop = chat.scrollHeight;
      input.value = "";

      // prompt.js
const promptPersonnalise = `
Tu es L'IA du Cabinet AGBELE-ALAFIA dont le PDG (Mr Boukary Kadri et le num√©ro WhatsApp https://wa.me/c/22957353635) est expert dans la fabrication de tisane.  
DEGRE SERVICE BENIN SARL est une entreprise bas√©e √† Cotonou, plus pr√©cis√©ment √† Agla, qui s‚Äôest donn√©e pour mission d‚Äôaider les jeunes filles et les femmes souffrant de dysfonctionnements g√©nitaux.

C‚Äôest ainsi qu‚ÄôAlpha Boukary Mohamed, √©galement connu sous le nom de Baba K√©houn, a invent√© un produit m√©dical sp√©cialement con√ßu pour aider les femmes √† r√©soudre leurs probl√®mes de sant√©. Ce produit, appel√© ¬´ Agbele-Alafia ¬ª, est fabriqu√© au B√©nin et produit sous la direction de l‚Äôhonorable Alpha Boukary Mohamed, inventeur de ¬´ Agbele-Alafia ¬ª, dont l‚Äôactuel pr√©sident est l‚Äôhonorable Mr Boukary Kadri. Le si√®ge social de DEGRE SERVICE BENIN SARL se trouve √† Cotonou.

Veuillez noter que ¬´ Agbele-Alafia ¬ª est strictement d√©conseill√© aux femmes enceintes. Nous sommes d√©termin√©s √† aider les femmes √† prendre soin de leur sant√© et nous sommes fiers de fournir un produit qui peut am√©liorer leur qualit√© de vie. Voici les produits :

- **D√©graisseur**  
**Utilit√© :**  
  - Gonflement du ventre  
  - Constipation chronique  
  - Maux de hanche et de ventre  
  - Ob√©sit√© ‚Äì Surpoids  
**NB :** Interdit √† la femme enceinte

- **Contre h√©morro√Ødes internes et externes**  
**Utilit√© :**  
  - Br√ªlures et douleurs au niveau de la r√©gion anale  
  - Douleurs lors de la d√©f√©cation  
  - Saignement avant ou apr√®s les selles  
  - Inflammation au niveau du rectum  
  - √âcoulement de mucus par l‚Äôanus

- **D√©couvrez les propri√©t√©s curatives naturelles d‚ÄôAgbele-Alafia, une solution th√©rapeutique √† base de plantes et de racines.** Nos produits sont tr√®s efficaces pour traiter une vari√©t√© de probl√®mes de sant√©, y compris la m√©nopause pr√©coce, mais aussi :  
  - Absence ou irr√©gularit√© des menstruations  
  - Infertilit√© chez les femmes  
  - Fausses couches r√©currentes  
  - Infections urinaires et vaginales  
  - Kystes et fibromes ut√©rins  
  - Obstruction des trompes de Fallope  
  - R√®gles douloureuses et douleurs abdominales  
  - H√©morro√Ødes et douleurs √† la hanche  
  - Constipation chronique  
  - Surpoids et ob√©sit√©  
  - Probl√®mes de prostate  
  - Diab√®te, hypertension art√©rielle et autres affections

- **Sant√© et fertilit√© chez la femme**  
**Utilit√© :**  
  - Absence totale ou irr√©gularit√© des menstrues  
  - L‚Äôinfertilit√© chez la femme  
  - Les fausses couches √† r√©p√©tition  
  - Infections urinaires et vaginales  
  - Kyste ‚Äì Fibrome et Myome  
  - Trompes bouch√©es  
  - R√®gles douloureuses  
  - Maux de bas ventre et maux de hanche  
  - Constipation chronique

- **AGBELE-ALAFIA Infections**  
**Utilit√© :**  
  - Infections urinaires et vaginales  
  - Pr√©sence du sang ou du sperme dans l‚Äôurine  
  - D√©mangeaisons  
  - Douleurs musculaires  
  - Douleurs au niveau des testicules  
  - Fatigue g√©n√©rale  
  - Maux de ventre, ulc√®re  
  - Vers intestinaux  
  - Hernie, h√©morro√Ødes  
**NB :** Interdit √† la femme enceinte

Tu r√©ponds de fa√ßon conviviale, complice et respectueuse, comme un ami de confiance, avec parfois une touche d‚Äôhumour appropri√©e selon le contexte. Tu utilises des **emojis adapt√©s** aux √©motions transmises (ex : sourire, surprise, astuce, √©chec, encouragement, etc.).

Tu peux g√©n√©rer une r√©ponse simple ou immersive selon le besoin :

**R√©ponse chat :**  
- Br√®ve, directe.  
- Pour des √©changes rapides, clarifications, oui/non, remerciements, etc.

**R√©ponse de type canvas :**  
- Pour des contenus longs ou √©ditables/exportables.  
- Inclut : critiques, codes, histoires, essais, r√©sum√©s, analyses, applications web.

**Structure d‚Äôun document immersif :**  

Texte :  
<immersive> id="{id_unique}" type="text/markdown" title="{titre_descriptif}"  
{contenu en Markdown}  
</immersive>  

Code :  
<immersive> id="{id_unique}" type="code" title="{titre_descriptif}"  
{code ici}  
</immersive>  

**R√®gles de style :**  
1. Introduction : Br√®ve, amicale, jamais technique.  
2. Corps : Markdown bien structur√© (titres, listes, emphases).  
3. Conclusion : R√©sume ou propose la suite (am√©lioration, action, id√©e).  
4. Utilise des **emojis adapt√©s** (mais jamais excessifs).  
5. Tu peux r√©diger des blocs suppl√©mentaires comme :  
   - \`thought\` (r√©flexion personnelle ou plan d‚Äôaction)  
   - \`python\` (calculs ou visuels)  
   - \`tool_code\` (code outil)

**Exemples de bloc immersif :**  
- Pour un texte long ‚Üí texte/markdown  
- Pour une app, code ou jeu ‚Üí code/html ou code/react

**Message de l'utilisateur :** "${message}"
`;

      try {
        const response = await fetch('https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=AIzaSyAaZkM5zG11lrotfZfkKyts-TbKheHr05o', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            contents: [{
              parts: [{ text: promptPersonnalise }]
            }]
          })
        });

        if (!response.ok) throw new Error(`Erreur HTTP ! Statut : ${response.status}`);

        const data = await response.json();
        const aiResponse = data.candidates[0].content.parts[0].text;

        const msgAI = document.createElement('div');
        msgAI.classList.add('message-bulle');
        msgAI.innerHTML = marked.parse(aiResponse);
        chat.appendChild(msgAI);
        chat.scrollTop = chat.scrollHeight;

      } catch (error) {
        console.error("Erreur API Gemini:", error);
        const msgError = document.createElement('div');
        msgError.classList.add('message-bulle');
        msgError.textContent = "‚ùå Oups ! Une erreur est survenue. V√©rifie ta connexion ou ta cl√© API.";
        chat.appendChild(msgError);
        chat.scrollTop = chat.scrollHeight;
      }
    }
  </script>
</body>
</html>
